const express=require("express");const path=require("path");const pool=require("./config");const bodyParser=require("body-parser");const crypto=require("crypto");const cors=require("cors");const app=express();const router=express.Router();const port=7885;app.use("/api",router);app.use(cors());app.use(express.json());app.use(bodyParser.json());app.use(bodyParser.urlencoded({extended:true}));app.use(express.static(path.join(__dirname,"page")));app.use("/js",express.static(path.join(__dirname,"js")));app.use("/css",express.static(path.join(__dirname,"css")));app.use("/images",express.static(path.join(__dirname,"images")));app.use("/page",express.static(path.join(__dirname,"page")));app.get("/",(req,res)=>{res.sendFile(path.join(__dirname,"page","drum.html"));});app.get("/personal",(req,res)=>{res.sendFile(path.join(__dirname,"page","personal.html"));});app.get("/invitation",(req,res)=>{res.sendFile(path.join(__dirname,"page","invitation.html"))})
app.get("/rankings",(req,res)=>{res.sendFile(path.join(__dirname,"page","rankings.html"));});app.get("/task",(req,res)=>{res.sendFile(path.join(__dirname,"page","task.html"));});app.get("/wallet",(req,res)=>{res.sendFile(path.join(__dirname,"page","wallet.html"));});app.use("/api",router);app.use("/api/login",require("./routers/login"));app.use("/api/game",require("./routers/game"));app.use("/api/rank",require("./routers/rank"));app.use("/api/userinfo",require("./routers/userinfo"));app.use("/api/wallet",require("./routers/wallet"));app.use("/api/task",require("./routers/task"))
app.use("/api/invite",require("./routers/invite"));app.use((req,res)=>{res.status(404).json({success:false,message:"Not Found"});});app.listen(port,()=>{console.log(`Server running on http://localhost:${port}`);});